<h4>اضافة خدمة</h4>
<form method="POST" action="/dashboard/services/store" enctype="multipart/form-data">
    <div class="mb-3">
        <input type="text" class="form-control" placeholder="الاسم" name="name"
            {{#if lastValues.name }}
                value={{lastValues.name}}
            {{/if}}
        >
    </div>
    {{#findError validationErrors "name" }}
		<p class="alert alert-danger py-2">{{ msg }}</p>
    {{/findError}}
    <div class="mb-3">
        <textarea class="form-control" rows="3" placeholder="الوصف" name="description">{{#if lastValues.description }}
                value={{lastValues.description}}
            {{/if}}</textarea>
    </div>
    {{#findError validationErrors "description" }}
		<p class="alert alert-danger py-2">{{ msg }}</p>
    {{/findError}}
    <div class="mb-3">
        <input type="number" class="form-control" placeholder="السعر" name="price" step="0.01"
            {{#if lastValues.price }}
                value={{lastValues.price}}
            {{/if}}
            >
    </div>
    {{#findError validationErrors "price" }}
		<p class="alert alert-danger py-2">{{ msg }}</p>
    {{/findError}}
    <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="isAdditional">
        <option selected value="false">نوع الخدمة</option>
        <option value="true">اضافة</option>
        <option value="false">اساسية</option>
    </select>
    {{#findError validationErrors "isAdditional" }}
		<p class="alert alert-danger py-2">{{ msg }}</p>
    {{/findError}}
    <div class="mb-3">
        <label for="formFile" class="form-label">Select a file</label>
        <div class="input-group">
            <button class="btn btn-secondary" type="button" id="inputGroupFileAddon">اختار ملف</button>
            <input type="text" class="form-control" placeholder="لم يتم اختيار ملف" readonly>
            <input class="form-control" type="file" id="formFile" style="display: none;" name="image">
        </div>
    </div>
    {{#findError validationErrors "image" }}
		<p class="alert alert-danger py-2">{{ msg }}</p>
    {{/findError}}
    <div id="discount">
        <p>اختاري</p>
        <div class="mb-3">
            <input type="datetime-local" class="form-control" placeholder="تاريخ الانتهاء" name="discount[expirationAt]"
                {{#if lastValues.discount.expirationAt }}
                    value={{lastValues.discount.expirationAt}}
                {{/if}}
                >
        </div>
        {{#findError validationErrors "discount.expirationAt" }}
            <p class="alert alert-danger py-2">{{ msg }}</p>
        {{/findError}}
        <div class="mb-3">
            <input type="number" class="form-control" placeholder="نسبة الخصم" name="discount[percentage]"
                {{#if lastValues.discount.percentage }}
                    value={{lastValues.discount.percentage}}
                {{/if}}
                >
        </div>
        {{#findError validationErrors "discount.percentage" }}
            <p class="alert alert-danger py-2">{{ msg }}</p>
        {{/findError}}
    </div>
    <div class="mb-3">
        <button type="submit" class="btn btn-primary">إرسال</button>
    </div>
</form>

<script>
    const inputGroupFile = document.getElementById('inputGroupFileAddon');
    const inputGroupFileInput = document.getElementById('formFile');
        inputGroupFile.addEventListener('click', () => {
        inputGroupFileInput.click();
    });
        inputGroupFileInput.addEventListener('change', () => {
        inputGroupFileInput.previousElementSibling.value = inputGroupFileInput.files[0].name;
    });
</script>